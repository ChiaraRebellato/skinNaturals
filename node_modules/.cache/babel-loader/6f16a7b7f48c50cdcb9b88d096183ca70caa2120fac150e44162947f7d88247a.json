{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nlet qty = 0;\nexport const shoppingCart = createSlice({\n  name: 'shoppingCart',\n  initialState: {\n    products: [],\n    total: 0\n  },\n  reducers: {\n    addToCart: (state, action) => {\n      const {\n        product,\n        qty\n      } = action.payload;\n      const itemInCart = state.products.find(item => item.id == product.id);\n      if (!itemInCart) {\n        state.products.push({\n          ...product,\n          qty: qty\n        });\n        state.total += product.price * qty;\n      } else {\n        itemInCart.qty = qty;\n        state.total = product.price * qty;\n      }\n    },\n    updateQty: (state, action) => {\n      const {\n        id,\n        price,\n        qty\n      } = action.payload;\n      if (qty >= 10) {\n        alert(\"You can add max 10 items per order\");\n        document.getElementById(\"increase\").disable = true;\n        return;\n      } else {\n        const itemInCart = state.products.find(item => item.id == id);\n        itemInCart.qty++;\n        state.total += price;\n      }\n    },\n    decreaseQty: (state, action) => {\n      const {\n        id,\n        price,\n        qty\n      } = action.payload;\n      if (qty <= 1) {\n        return;\n      } else {\n        const itemInCart = state.products.find(item => item.id == id);\n        itemInCart.qty--;\n        state.total -= price;\n      }\n    },\n    removeItem: (state, action) => {\n      const {\n        id,\n        price,\n        qty\n      } = action.payload;\n      state.products = state.products.filter(item => item.id !== id);\n      state.total = state.total - price * qty;\n    }\n  }\n});\nexport const {\n  addToCart,\n  updateQty,\n  decreaseQty,\n  removeItem\n} = shoppingCart.actions;\nexport default shoppingCart.reducer;","map":{"version":3,"names":["createSlice","qty","shoppingCart","name","initialState","products","total","reducers","addToCart","state","action","product","payload","itemInCart","find","item","id","push","price","updateQty","alert","document","getElementById","disable","decreaseQty","removeItem","filter","actions","reducer"],"sources":["/Users/chiararebellato/Desktop/skinnaturals/src/features/shoppingCart/shoppingCartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nlet qty = 0;\n\nexport const shoppingCart = createSlice({\n    name: 'shoppingCart',\n    initialState: {\n        products: [],\n        total: 0\n    },\n    reducers: {\n        addToCart: (state, action) => {\n\n            const {product, qty}= action.payload;\n\n            const itemInCart = state.products.find((item) => item.id == product.id);\n\n            if (!itemInCart) {\n                state.products.push({\n                    ...product,\n                    qty: qty\n                });\n                state.total += (product.price*qty);\n            } else {\n                itemInCart.qty=qty;\n                state.total = (product.price*qty);\n            }\n        },\n\n        updateQty: (state, action) => {\n            const { id, price, qty } = action.payload;\n\n            if (qty >= 10) {\n                alert(\"You can add max 10 items per order\");\n                document.getElementById(\"increase\").disable = true;\n                return;\n            }\n            else {\n\n                const itemInCart = state.products.find((item) => item.id == id);\n                itemInCart.qty++;\n                state.total += price;\n            }\n        },\n\n        decreaseQty: (state, action) => {\n            const { id, price, qty } = action.payload;\n\n            if (qty <= 1) {\n\n                return;\n    \n            } else {\n                const itemInCart = state.products.find((item) => item.id == id);\n                itemInCart.qty--;\n                state.total -= price;    \n            }\n\n        },\n\n        removeItem: (state, action) => {\n            const { id, price, qty } = action.payload;\n            state.products = state.products.filter((item) => item.id !== id);\n            state.total = state.total - (price * qty);\n\n        }\n\n    }\n});\n\nexport const { addToCart, updateQty, decreaseQty, removeItem } = shoppingCart.actions;\nexport default shoppingCart.reducer;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,IAAIC,GAAG,GAAG,CAAC;AAEX,OAAO,MAAMC,YAAY,GAAGF,WAAW,CAAC;EACpCG,IAAI,EAAE,cAAc;EACpBC,YAAY,EAAE;IACVC,QAAQ,EAAE,EAAE;IACZC,KAAK,EAAE;EACX,CAAC;EACDC,QAAQ,EAAE;IACNC,SAAS,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAE1B,MAAM;QAACC,OAAO;QAAEV;MAAG,CAAC,GAAES,MAAM,CAACE,OAAO;MAEpC,MAAMC,UAAU,GAAGJ,KAAK,CAACJ,QAAQ,CAACS,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,IAAIL,OAAO,CAACK,EAAE,CAAC;MAEvE,IAAI,CAACH,UAAU,EAAE;QACbJ,KAAK,CAACJ,QAAQ,CAACY,IAAI,CAAC;UAChB,GAAGN,OAAO;UACVV,GAAG,EAAEA;QACT,CAAC,CAAC;QACFQ,KAAK,CAACH,KAAK,IAAKK,OAAO,CAACO,KAAK,GAACjB,GAAI;MACtC,CAAC,MAAM;QACHY,UAAU,CAACZ,GAAG,GAACA,GAAG;QAClBQ,KAAK,CAACH,KAAK,GAAIK,OAAO,CAACO,KAAK,GAACjB,GAAI;MACrC;IACJ,CAAC;IAEDkB,SAAS,EAAEA,CAACV,KAAK,EAAEC,MAAM,KAAK;MAC1B,MAAM;QAAEM,EAAE;QAAEE,KAAK;QAAEjB;MAAI,CAAC,GAAGS,MAAM,CAACE,OAAO;MAEzC,IAAIX,GAAG,IAAI,EAAE,EAAE;QACXmB,KAAK,CAAC,oCAAoC,CAAC;QAC3CC,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAC,CAACC,OAAO,GAAG,IAAI;QAClD;MACJ,CAAC,MACI;QAED,MAAMV,UAAU,GAAGJ,KAAK,CAACJ,QAAQ,CAACS,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,IAAIA,EAAE,CAAC;QAC/DH,UAAU,CAACZ,GAAG,EAAE;QAChBQ,KAAK,CAACH,KAAK,IAAIY,KAAK;MACxB;IACJ,CAAC;IAEDM,WAAW,EAAEA,CAACf,KAAK,EAAEC,MAAM,KAAK;MAC5B,MAAM;QAAEM,EAAE;QAAEE,KAAK;QAAEjB;MAAI,CAAC,GAAGS,MAAM,CAACE,OAAO;MAEzC,IAAIX,GAAG,IAAI,CAAC,EAAE;QAEV;MAEJ,CAAC,MAAM;QACH,MAAMY,UAAU,GAAGJ,KAAK,CAACJ,QAAQ,CAACS,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,IAAIA,EAAE,CAAC;QAC/DH,UAAU,CAACZ,GAAG,EAAE;QAChBQ,KAAK,CAACH,KAAK,IAAIY,KAAK;MACxB;IAEJ,CAAC;IAEDO,UAAU,EAAEA,CAAChB,KAAK,EAAEC,MAAM,KAAK;MAC3B,MAAM;QAAEM,EAAE;QAAEE,KAAK;QAAEjB;MAAI,CAAC,GAAGS,MAAM,CAACE,OAAO;MACzCH,KAAK,CAACJ,QAAQ,GAAGI,KAAK,CAACJ,QAAQ,CAACqB,MAAM,CAAEX,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKA,EAAE,CAAC;MAChEP,KAAK,CAACH,KAAK,GAAGG,KAAK,CAACH,KAAK,GAAIY,KAAK,GAAGjB,GAAI;IAE7C;EAEJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEO,SAAS;EAAEW,SAAS;EAAEK,WAAW;EAAEC;AAAW,CAAC,GAAGvB,YAAY,CAACyB,OAAO;AACrF,eAAezB,YAAY,CAAC0B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}