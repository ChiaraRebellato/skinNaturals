{"ast":null,"code":"import'./Checkout.css';import{useDispatch,useSelector}from\"react-redux\";import{updateQty,decreaseQty,removeItem}from\"../../features/shoppingCart/shoppingCartSlice\";import{Link}from'react-router-dom';import{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Checkout(){const product=useSelector(state=>state.shoppingCart.products);const total=useSelector(state=>state.shoppingCart.total);const[seeCheckout,setCheckout]=useState(false);useEffect(()=>{document.title=\"Checkout | SkinNaturals\";document.querySelector('meta[name=\"description\"]').setAttribute(\"content\",\"Checkout | SkinNaturals\");},[]);useEffect(()=>{if(product.length<=0){setCheckout(prev=>{return prev=false;});}else{setCheckout(prev=>{return prev=true;});}},[product.length]);const dispatch=useDispatch();function handleIncrement(id,price,qty){dispatch(updateQty({id:id,price:price,qty:qty}));};function handleDecrement(id,price,qty){dispatch(decreaseQty({id:id,price:price,qty:qty}));};function handleRemoval(id,price,qty){dispatch(removeItem({id:id,price:price,qty:qty}));}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-uppercase ms-3 my-4 fs-3 fw-bold\",children:\"Checkout\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"checkout\",className:product.length>0?'':'d-flex justify-content-center',children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-5\",children:product.length>0?/*#__PURE__*/_jsx(_Fragment,{children:product.map((elem,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"productsInCart d-flex mb-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/\".concat(elem.img),alt:\"SkinNaturals \".concat(elem.img)}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 ms-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/details/\".concat(elem.id),className:\"text-decoration-none fw-bold me-2 mb-2 flex-grow-1\",children:elem.article}),/*#__PURE__*/_jsx(\"p\",{id:\"qty\",className:\"text-muted\",children:product[0].size}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20AC \",product[0].price]})]}),/*#__PURE__*/_jsx(\"button\",{id:\"remove\",className:\"bg-transparent border-0 p-1 flex-grow-1\",onClick:()=>{handleRemoval(elem.id,elem.price,elem.qty);},children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-x-lg\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"border-0\",id:\"decrease\",onClick:()=>{handleDecrement(elem.id,elem.price,elem.qty);},disabled:elem.qty<=1?true:false,children:\"-\"}),/*#__PURE__*/_jsx(\"p\",{className:\"my-0 mx-2\",children:elem.qty}),/*#__PURE__*/_jsx(\"button\",{className:\"border-0\",id:\"increase\",onClick:()=>{handleIncrement(elem.id,elem.price,elem.qty);},disabled:elem.qty>=10?true:false,children:\"+\"})]})}),/*#__PURE__*/_jsx(\"button\",{id:\"removeDesktop\",className:\"btn noHover border-0 p-1 px-2 ms-4 d-none\",onClick:()=>{handleRemoval(elem.id,elem.price,elem.qty);},children:\"Remove\"})]})]})]},index))}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center my-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"fs-5 mb-2\",children:\"Shopping cart is empty\"}),/*#__PURE__*/_jsx(Link,{to:\"/shop\",className:\"btn text-decoration-none fw-bold\",tabIndex:0,target:\"_self\",children:\"Go shopping!\"})]})})})}),seeCheckout&&/*#__PURE__*/_jsxs(\"div\",{id:\"cashier\",className:\"m-5 p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"flex-grow-1 fs-4 fw-bold\",children:\"Total: \"}),/*#__PURE__*/_jsxs(\"p\",{className:\"m-0 fs-4\",children:[\"\\u20AC \",total]})]}),total>=50?/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:\"Free shipping\"}):/*#__PURE__*/_jsx(\"span\",{children:\"Shipping fee calculated at checkout\"})]})]})]});};export default Checkout;","map":{"version":3,"names":["useDispatch","useSelector","updateQty","decreaseQty","removeItem","Link","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Checkout","product","state","shoppingCart","products","total","seeCheckout","setCheckout","document","title","querySelector","setAttribute","length","prev","dispatch","handleIncrement","id","price","qty","handleDecrement","handleRemoval","children","className","map","elem","index","src","concat","img","alt","to","article","size","onClick","xmlns","width","height","fill","viewBox","d","disabled","tabIndex","target"],"sources":["/Users/chiararebellato/Desktop/Corsi/CodeAcademy/Progetti/react/skinnaturals/src/components/Checkout/Checkout.js"],"sourcesContent":["import './Checkout.css';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updateQty, decreaseQty, removeItem } from \"../../features/shoppingCart/shoppingCartSlice\";\nimport { Link } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\n\nfunction Checkout() {\n    const product = useSelector((state) => state.shoppingCart.products);\n    const total = useSelector((state) => state.shoppingCart.total);\n    const [seeCheckout, setCheckout] = useState(false);\n\n    useEffect(()=>{\n        document.title=\"Checkout | SkinNaturals\";\n        document.querySelector('meta[name=\"description\"]').setAttribute(\"content\", \"Checkout | SkinNaturals\");\n    }, [])\n\n    useEffect(() => {\n        if (product.length <= 0) {\n            setCheckout((prev) => { return prev = false })\n        } else {\n            setCheckout((prev) => { return prev = true })\n        }\n    }, [product.length])\n\n    const dispatch = useDispatch();\n\n    function handleIncrement(id, price, qty) {\n\n        dispatch(updateQty({ id: id, price: price, qty: qty }))\n\n    };\n\n    function handleDecrement(id, price, qty) {\n\n        dispatch(decreaseQty({ id: id, price: price, qty: qty }))\n\n    };\n\n    function handleRemoval(id, price, qty) {\n        dispatch(removeItem({ id: id, price: price, qty: qty }));\n    }\n\n    return (\n        <>\n            <h1 className='text-uppercase ms-3 my-4 fs-3 fw-bold'>Checkout</h1>\n\n            <div id='checkout' className={product.length > 0 ? '' : 'd-flex justify-content-center'}>\n                <div className=\"mx-5\">\n                    {product.length > 0 ?\n\n                        <>\n                            {product.map((elem, index) =>\n\n                                <div key={index} className=\"productsInCart d-flex mb-4\">\n                                    <img src={`/${elem.img}`} alt={`SkinNaturals ${elem.img}`} />\n                                    <div className=\"w-100 ms-2\">\n                                        <div className='d-flex align-items-center'>\n                                            <div>\n                                                <Link to={`/details/${elem.id}`} className=\"text-decoration-none fw-bold me-2 mb-2 flex-grow-1\">{elem.article}</Link>\n                                                <p id='qty' className=\"text-muted\">{product[0].size}</p>\n                                                <p>€ {product[0].price}</p>\n                                            </div>\n\n                                            <button id='remove' className='bg-transparent border-0 p-1 flex-grow-1' onClick={() => { handleRemoval(elem.id, elem.price, elem.qty) }}>\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-x-lg\" viewBox=\"0 0 16 16\">\n                                                    <path d=\"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z\" />\n                                                </svg>\n                                            </button>\n                                        </div>\n\n                                        <div className=\"d-flex align-items-center\">\n\n                                            <div className=\"d-flex align-items-center\">\n\n                                                <div className=\"d-flex align-items-center\">\n                                                    <button className='border-0' id=\"decrease\" onClick={() => { handleDecrement(elem.id, elem.price, elem.qty) }} disabled={elem.qty <= 1 ? true : false}>-</button>\n\n                                                    <p className=\"my-0 mx-2\">{elem.qty}</p>\n\n                                                    <button className='border-0' id=\"increase\" onClick={() => { handleIncrement(elem.id, elem.price, elem.qty) }} disabled={elem.qty >= 10 ? true : false}>+</button>\n\n                                                </div>\n                                            </div>\n\n                                            <button id='removeDesktop' className='btn noHover border-0 p-1 px-2 ms-4 d-none' onClick={() => { handleRemoval(elem.id, elem.price, elem.qty) }}>\n                                                Remove\n                                            </button>\n                                        </div>\n\n                                    </div>\n\n\n                                </div>\n\n                            )}\n\n\n                        </>\n\n\n                        :\n\n                        <>\n                            <div className='d-flex justify-content-center my-5'>\n                                <div className='text-center'>\n                                    <p className='fs-5 mb-2'>Shopping cart is empty</p>\n                                    <Link to='/shop' className='btn text-decoration-none fw-bold' tabIndex={0} target='_self'>Go shopping!</Link>\n                                </div>\n                            </div>\n\n                        </>\n\n                    }\n\n                </div>\n\n                {seeCheckout &&\n\n                    <div id='cashier' className=\"m-5 p-3\">\n                        <div className='d-flex align-items-center mb-3'>\n                            <p className=\"flex-grow-1 fs-4 fw-bold\">Total: </p>\n                            <p className=\"m-0 fs-4\">€ {total}</p>\n                        </div>\n\n                        {total >= 50 ? <span className=\"fw-bold\">Free shipping</span> : <span>Shipping fee calculated at checkout</span>}\n\n                    </div>\n\n                }\n            </div>\n\n\n        </>\n    )\n};\n\nexport default Checkout\n"],"mappings":"AAAA,MAAO,gBAAgB,CACvB,OAASA,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,SAAS,CAAEC,WAAW,CAAEC,UAAU,KAAQ,+CAA+C,CAClG,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE5C,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAChB,KAAM,CAAAC,OAAO,CAAGd,WAAW,CAAEe,KAAK,EAAKA,KAAK,CAACC,YAAY,CAACC,QAAQ,CAAC,CACnE,KAAM,CAAAC,KAAK,CAAGlB,WAAW,CAAEe,KAAK,EAAKA,KAAK,CAACC,YAAY,CAACE,KAAK,CAAC,CAC9D,KAAM,CAACC,WAAW,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAElDD,SAAS,CAAC,IAAI,CACVgB,QAAQ,CAACC,KAAK,CAAC,yBAAyB,CACxCD,QAAQ,CAACE,aAAa,CAAC,0BAA0B,CAAC,CAACC,YAAY,CAAC,SAAS,CAAE,yBAAyB,CAAC,CACzG,CAAC,CAAE,EAAE,CAAC,CAENnB,SAAS,CAAC,IAAM,CACZ,GAAIS,OAAO,CAACW,MAAM,EAAI,CAAC,CAAE,CACrBL,WAAW,CAAEM,IAAI,EAAK,CAAE,MAAO,CAAAA,IAAI,CAAG,KAAK,CAAC,CAAC,CAAC,CAClD,CAAC,IAAM,CACHN,WAAW,CAAEM,IAAI,EAAK,CAAE,MAAO,CAAAA,IAAI,CAAG,IAAI,CAAC,CAAC,CAAC,CACjD,CACJ,CAAC,CAAE,CAACZ,OAAO,CAACW,MAAM,CAAC,CAAC,CAEpB,KAAM,CAAAE,QAAQ,CAAG5B,WAAW,CAAC,CAAC,CAE9B,QAAS,CAAA6B,eAAeA,CAACC,EAAE,CAAEC,KAAK,CAAEC,GAAG,CAAE,CAErCJ,QAAQ,CAAC1B,SAAS,CAAC,CAAE4B,EAAE,CAAEA,EAAE,CAAEC,KAAK,CAAEA,KAAK,CAAEC,GAAG,CAAEA,GAAI,CAAC,CAAC,CAAC,CAE3D,CAAC,CAED,QAAS,CAAAC,eAAeA,CAACH,EAAE,CAAEC,KAAK,CAAEC,GAAG,CAAE,CAErCJ,QAAQ,CAACzB,WAAW,CAAC,CAAE2B,EAAE,CAAEA,EAAE,CAAEC,KAAK,CAAEA,KAAK,CAAEC,GAAG,CAAEA,GAAI,CAAC,CAAC,CAAC,CAE7D,CAAC,CAED,QAAS,CAAAE,aAAaA,CAACJ,EAAE,CAAEC,KAAK,CAAEC,GAAG,CAAE,CACnCJ,QAAQ,CAACxB,UAAU,CAAC,CAAE0B,EAAE,CAAEA,EAAE,CAAEC,KAAK,CAAEA,KAAK,CAAEC,GAAG,CAAEA,GAAI,CAAC,CAAC,CAAC,CAC5D,CAEA,mBACIrB,KAAA,CAAAE,SAAA,EAAAsB,QAAA,eACI1B,IAAA,OAAI2B,SAAS,CAAC,uCAAuC,CAAAD,QAAA,CAAC,UAAQ,CAAI,CAAC,cAEnExB,KAAA,QAAKmB,EAAE,CAAC,UAAU,CAACM,SAAS,CAAErB,OAAO,CAACW,MAAM,CAAG,CAAC,CAAG,EAAE,CAAG,+BAAgC,CAAAS,QAAA,eACpF1B,IAAA,QAAK2B,SAAS,CAAC,MAAM,CAAAD,QAAA,CAChBpB,OAAO,CAACW,MAAM,CAAG,CAAC,cAEfjB,IAAA,CAAAI,SAAA,EAAAsB,QAAA,CACKpB,OAAO,CAACsB,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBAErB5B,KAAA,QAAiByB,SAAS,CAAC,4BAA4B,CAAAD,QAAA,eACnD1B,IAAA,QAAK+B,GAAG,KAAAC,MAAA,CAAMH,IAAI,CAACI,GAAG,CAAG,CAACC,GAAG,iBAAAF,MAAA,CAAkBH,IAAI,CAACI,GAAG,CAAG,CAAE,CAAC,cAC7D/B,KAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAD,QAAA,eACvBxB,KAAA,QAAKyB,SAAS,CAAC,2BAA2B,CAAAD,QAAA,eACtCxB,KAAA,QAAAwB,QAAA,eACI1B,IAAA,CAACJ,IAAI,EAACuC,EAAE,aAAAH,MAAA,CAAcH,IAAI,CAACR,EAAE,CAAG,CAACM,SAAS,CAAC,oDAAoD,CAAAD,QAAA,CAAEG,IAAI,CAACO,OAAO,CAAO,CAAC,cACrHpC,IAAA,MAAGqB,EAAE,CAAC,KAAK,CAACM,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAEpB,OAAO,CAAC,CAAC,CAAC,CAAC+B,IAAI,CAAI,CAAC,cACxDnC,KAAA,MAAAwB,QAAA,EAAG,SAAE,CAACpB,OAAO,CAAC,CAAC,CAAC,CAACgB,KAAK,EAAI,CAAC,EAC1B,CAAC,cAENtB,IAAA,WAAQqB,EAAE,CAAC,QAAQ,CAACM,SAAS,CAAC,yCAAyC,CAACW,OAAO,CAAEA,CAAA,GAAM,CAAEb,aAAa,CAACI,IAAI,CAACR,EAAE,CAAEQ,IAAI,CAACP,KAAK,CAAEO,IAAI,CAACN,GAAG,CAAC,CAAC,CAAE,CAAAG,QAAA,cACpI1B,IAAA,QAAKuC,KAAK,CAAC,4BAA4B,CAACC,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,IAAI,CAAC,cAAc,CAACf,SAAS,CAAC,YAAY,CAACgB,OAAO,CAAC,WAAW,CAAAjB,QAAA,cACzH1B,IAAA,SAAM4C,CAAC,CAAC,sKAAsK,CAAE,CAAC,CAChL,CAAC,CACF,CAAC,EACR,CAAC,cAEN1C,KAAA,QAAKyB,SAAS,CAAC,2BAA2B,CAAAD,QAAA,eAEtC1B,IAAA,QAAK2B,SAAS,CAAC,2BAA2B,CAAAD,QAAA,cAEtCxB,KAAA,QAAKyB,SAAS,CAAC,2BAA2B,CAAAD,QAAA,eACtC1B,IAAA,WAAQ2B,SAAS,CAAC,UAAU,CAACN,EAAE,CAAC,UAAU,CAACiB,OAAO,CAAEA,CAAA,GAAM,CAAEd,eAAe,CAACK,IAAI,CAACR,EAAE,CAAEQ,IAAI,CAACP,KAAK,CAAEO,IAAI,CAACN,GAAG,CAAC,CAAC,CAAE,CAACsB,QAAQ,CAAEhB,IAAI,CAACN,GAAG,EAAI,CAAC,CAAG,IAAI,CAAG,KAAM,CAAAG,QAAA,CAAC,GAAC,CAAQ,CAAC,cAEhK1B,IAAA,MAAG2B,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAEG,IAAI,CAACN,GAAG,CAAI,CAAC,cAEvCvB,IAAA,WAAQ2B,SAAS,CAAC,UAAU,CAACN,EAAE,CAAC,UAAU,CAACiB,OAAO,CAAEA,CAAA,GAAM,CAAElB,eAAe,CAACS,IAAI,CAACR,EAAE,CAAEQ,IAAI,CAACP,KAAK,CAAEO,IAAI,CAACN,GAAG,CAAC,CAAC,CAAE,CAACsB,QAAQ,CAAEhB,IAAI,CAACN,GAAG,EAAI,EAAE,CAAG,IAAI,CAAG,KAAM,CAAAG,QAAA,CAAC,GAAC,CAAQ,CAAC,EAEhK,CAAC,CACL,CAAC,cAEN1B,IAAA,WAAQqB,EAAE,CAAC,eAAe,CAACM,SAAS,CAAC,2CAA2C,CAACW,OAAO,CAAEA,CAAA,GAAM,CAAEb,aAAa,CAACI,IAAI,CAACR,EAAE,CAAEQ,IAAI,CAACP,KAAK,CAAEO,IAAI,CAACN,GAAG,CAAC,CAAC,CAAE,CAAAG,QAAA,CAAC,QAElJ,CAAQ,CAAC,EACR,CAAC,EAEL,CAAC,GApCAI,KAuCL,CAET,CAAC,CAGH,CAAC,cAKH9B,IAAA,CAAAI,SAAA,EAAAsB,QAAA,cACI1B,IAAA,QAAK2B,SAAS,CAAC,oCAAoC,CAAAD,QAAA,cAC/CxB,KAAA,QAAKyB,SAAS,CAAC,aAAa,CAAAD,QAAA,eACxB1B,IAAA,MAAG2B,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAC,wBAAsB,CAAG,CAAC,cACnD1B,IAAA,CAACJ,IAAI,EAACuC,EAAE,CAAC,OAAO,CAACR,SAAS,CAAC,kCAAkC,CAACmB,QAAQ,CAAE,CAAE,CAACC,MAAM,CAAC,OAAO,CAAArB,QAAA,CAAC,cAAY,CAAM,CAAC,EAC5G,CAAC,CACL,CAAC,CAER,CAAC,CAIN,CAAC,CAELf,WAAW,eAERT,KAAA,QAAKmB,EAAE,CAAC,SAAS,CAACM,SAAS,CAAC,SAAS,CAAAD,QAAA,eACjCxB,KAAA,QAAKyB,SAAS,CAAC,gCAAgC,CAAAD,QAAA,eAC3C1B,IAAA,MAAG2B,SAAS,CAAC,0BAA0B,CAAAD,QAAA,CAAC,SAAO,CAAG,CAAC,cACnDxB,KAAA,MAAGyB,SAAS,CAAC,UAAU,CAAAD,QAAA,EAAC,SAAE,CAAChB,KAAK,EAAI,CAAC,EACpC,CAAC,CAELA,KAAK,EAAI,EAAE,cAAGV,IAAA,SAAM2B,SAAS,CAAC,SAAS,CAAAD,QAAA,CAAC,eAAa,CAAM,CAAC,cAAG1B,IAAA,SAAA0B,QAAA,CAAM,qCAAmC,CAAM,CAAC,EAE/G,CAAC,EAGT,CAAC,EAGR,CAAC,CAEX,CAAC,CAED,cAAe,CAAArB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}