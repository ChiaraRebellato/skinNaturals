{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";let qty=0;export const shoppingCart=createSlice({name:'shoppingCart',initialState:{products:[],total:0},reducers:{addToCart:(state,action)=>{const{product,qty}=action.payload;const itemInCart=state.products.find(item=>item.id==product.id);if(!itemInCart){state.products.push({...product,qty:qty});state.total+=product.price*qty;}else{itemInCart.qty=qty;state.total=product.price*qty;}},updateQty:(state,action)=>{const{id,price,qty}=action.payload;if(qty>=10){alert(\"You can add max 10 items per order\");document.getElementById(\"increase\").disable=true;return;}else{const itemInCart=state.products.find(item=>item.id==id);itemInCart.qty++;state.total+=price;}},decreaseQty:(state,action)=>{const{id,price,qty}=action.payload;if(qty<=1){return;}else{const itemInCart=state.products.find(item=>item.id==id);itemInCart.qty--;state.total-=price;}},removeItem:(state,action)=>{const{id,price,qty}=action.payload;state.products=state.products.filter(item=>item.id!==id);state.total=state.total-price*qty;}}});export const{addToCart,updateQty,decreaseQty,removeItem}=shoppingCart.actions;export default shoppingCart.reducer;","map":{"version":3,"names":["createSlice","qty","shoppingCart","name","initialState","products","total","reducers","addToCart","state","action","product","payload","itemInCart","find","item","id","push","price","updateQty","alert","document","getElementById","disable","decreaseQty","removeItem","filter","actions","reducer"],"sources":["/Users/chiararebellato/Desktop/Corsi/CodeAcademy/Progetti/react/skinnaturals/src/features/shoppingCart/shoppingCartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nlet qty = 0;\n\nexport const shoppingCart = createSlice({\n    name: 'shoppingCart',\n    initialState: {\n        products: [],\n        total: 0\n    },\n    reducers: {\n        addToCart: (state, action) => {\n\n            const {product, qty}= action.payload;\n\n            const itemInCart = state.products.find((item) => item.id == product.id);\n\n            if (!itemInCart) {\n                state.products.push({\n                    ...product,\n                    qty: qty\n                });\n                state.total += (product.price*qty);\n            } else {\n                itemInCart.qty=qty;\n                state.total = (product.price*qty);\n            }\n        },\n\n        updateQty: (state, action) => {\n            const { id, price, qty } = action.payload;\n\n            if (qty >= 10) {\n                alert(\"You can add max 10 items per order\");\n                document.getElementById(\"increase\").disable = true;\n                return;\n            }\n            else {\n\n                const itemInCart = state.products.find((item) => item.id == id);\n                itemInCart.qty++;\n                state.total += price;\n            }\n        },\n\n        decreaseQty: (state, action) => {\n            const { id, price, qty } = action.payload;\n\n            if (qty <= 1) {\n\n                return;\n    \n            } else {\n                const itemInCart = state.products.find((item) => item.id == id);\n                itemInCart.qty--;\n                state.total -= price;    \n            }\n\n        },\n\n        removeItem: (state, action) => {\n            const { id, price, qty } = action.payload;\n            state.products = state.products.filter((item) => item.id !== id);\n            state.total = state.total - (price * qty);\n\n        }\n\n    }\n});\n\nexport const { addToCart, updateQty, decreaseQty, removeItem } = shoppingCart.actions;\nexport default shoppingCart.reducer;"],"mappings":"AAAA,OAASA,WAAW,KAAQ,kBAAkB,CAE9C,GAAI,CAAAC,GAAG,CAAG,CAAC,CAEX,MAAO,MAAM,CAAAC,YAAY,CAAGF,WAAW,CAAC,CACpCG,IAAI,CAAE,cAAc,CACpBC,YAAY,CAAE,CACVC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,CACX,CAAC,CACDC,QAAQ,CAAE,CACNC,SAAS,CAAEA,CAACC,KAAK,CAAEC,MAAM,GAAK,CAE1B,KAAM,CAACC,OAAO,CAAEV,GAAG,CAAC,CAAES,MAAM,CAACE,OAAO,CAEpC,KAAM,CAAAC,UAAU,CAAGJ,KAAK,CAACJ,QAAQ,CAACS,IAAI,CAAEC,IAAI,EAAKA,IAAI,CAACC,EAAE,EAAIL,OAAO,CAACK,EAAE,CAAC,CAEvE,GAAI,CAACH,UAAU,CAAE,CACbJ,KAAK,CAACJ,QAAQ,CAACY,IAAI,CAAC,CAChB,GAAGN,OAAO,CACVV,GAAG,CAAEA,GACT,CAAC,CAAC,CACFQ,KAAK,CAACH,KAAK,EAAKK,OAAO,CAACO,KAAK,CAACjB,GAAI,CACtC,CAAC,IAAM,CACHY,UAAU,CAACZ,GAAG,CAACA,GAAG,CAClBQ,KAAK,CAACH,KAAK,CAAIK,OAAO,CAACO,KAAK,CAACjB,GAAI,CACrC,CACJ,CAAC,CAEDkB,SAAS,CAAEA,CAACV,KAAK,CAAEC,MAAM,GAAK,CAC1B,KAAM,CAAEM,EAAE,CAAEE,KAAK,CAAEjB,GAAI,CAAC,CAAGS,MAAM,CAACE,OAAO,CAEzC,GAAIX,GAAG,EAAI,EAAE,CAAE,CACXmB,KAAK,CAAC,oCAAoC,CAAC,CAC3CC,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAC,CAACC,OAAO,CAAG,IAAI,CAClD,OACJ,CAAC,IACI,CAED,KAAM,CAAAV,UAAU,CAAGJ,KAAK,CAACJ,QAAQ,CAACS,IAAI,CAAEC,IAAI,EAAKA,IAAI,CAACC,EAAE,EAAIA,EAAE,CAAC,CAC/DH,UAAU,CAACZ,GAAG,EAAE,CAChBQ,KAAK,CAACH,KAAK,EAAIY,KAAK,CACxB,CACJ,CAAC,CAEDM,WAAW,CAAEA,CAACf,KAAK,CAAEC,MAAM,GAAK,CAC5B,KAAM,CAAEM,EAAE,CAAEE,KAAK,CAAEjB,GAAI,CAAC,CAAGS,MAAM,CAACE,OAAO,CAEzC,GAAIX,GAAG,EAAI,CAAC,CAAE,CAEV,OAEJ,CAAC,IAAM,CACH,KAAM,CAAAY,UAAU,CAAGJ,KAAK,CAACJ,QAAQ,CAACS,IAAI,CAAEC,IAAI,EAAKA,IAAI,CAACC,EAAE,EAAIA,EAAE,CAAC,CAC/DH,UAAU,CAACZ,GAAG,EAAE,CAChBQ,KAAK,CAACH,KAAK,EAAIY,KAAK,CACxB,CAEJ,CAAC,CAEDO,UAAU,CAAEA,CAAChB,KAAK,CAAEC,MAAM,GAAK,CAC3B,KAAM,CAAEM,EAAE,CAAEE,KAAK,CAAEjB,GAAI,CAAC,CAAGS,MAAM,CAACE,OAAO,CACzCH,KAAK,CAACJ,QAAQ,CAAGI,KAAK,CAACJ,QAAQ,CAACqB,MAAM,CAAEX,IAAI,EAAKA,IAAI,CAACC,EAAE,GAAKA,EAAE,CAAC,CAChEP,KAAK,CAACH,KAAK,CAAGG,KAAK,CAACH,KAAK,CAAIY,KAAK,CAAGjB,GAAI,CAE7C,CAEJ,CACJ,CAAC,CAAC,CAEF,MAAO,MAAM,CAAEO,SAAS,CAAEW,SAAS,CAAEK,WAAW,CAAEC,UAAW,CAAC,CAAGvB,YAAY,CAACyB,OAAO,CACrF,cAAe,CAAAzB,YAAY,CAAC0B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}